.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text

.balign 16

glabel func_8005A700 # 0
/* 000000 8005A700 27BDFFB8 */  addiu       $sp, $sp, -0x48
/* 000004 8005A704 AFB00018 */  sw          $s0, 0x18($sp)
/* 000008 8005A708 AFBF001C */  sw          $ra, 0x1c($sp)
/* 00000C 8005A70C 3C10800A */  lui         $s0, %hi(D_8009F954)
/* 000010 8005A710 3C0EA440 */  lui         $t6, %hi(D_A4400010)
/* 000014 8005A714 8E10F954 */  lw          $s0, %lo(D_8009F954)($s0)
/* 000018 8005A718 8DCF0010 */  lw          $t7, %lo(D_A4400010)($t6)
/* 00001C 8005A71C 8E050008 */  lw          $a1, 0x8($s0)
/* 000020 8005A720 31F80001 */  andi        $t8, $t7, 0x1
/* 000024 8005A724 AFB8002C */  sw          $t8, 0x2c($sp)
/* 000028 8005A728 8E040004 */  lw          $a0, 0x4($s0)
/* 00002C 8005A72C 0C0143B0 */  jal         func_80050EC0
/* 000030 8005A730 AFA50044 */   sw         $a1, 0x44($sp)
/* 000034 8005A734 8FB9002C */  lw          $t9, 0x2c($sp)
/* 000038 8005A738 8FA50044 */  lw          $a1, 0x44($sp)
/* 00003C 8005A73C 960A0000 */  lhu         $t2, 0x0($s0)
/* 000040 8005A740 00194080 */  sll         $t0, $t9, 2
/* 000044 8005A744 01194021 */  addu        $t0, $t0, $t9
/* 000048 8005A748 00084080 */  sll         $t0, $t0, 2
/* 00004C 8005A74C 00A83021 */  addu        $a2, $a1, $t0
/* 000050 8005A750 8CC90028 */  lw          $t1, 0x28($a2)
/* 000054 8005A754 314B0002 */  andi        $t3, $t2, 0x2
/* 000058 8005A758 11600008 */  beq         $t3, $zero, .L8005A77C
/* 00005C 8005A75C 01222021 */   addu       $a0, $t1, $v0
/* 000060 8005A760 8CAD0020 */  lw          $t5, 0x20($a1)
/* 000064 8005A764 8E0C0020 */  lw          $t4, 0x20($s0)
/* 000068 8005A768 2401F000 */  addiu       $at, $zero, -0x1000
/* 00006C 8005A76C 01A17024 */  and         $t6, $t5, $at
/* 000070 8005A770 018E7825 */  or          $t7, $t4, $t6
/* 000074 8005A774 10000003 */  b           .L8005A784
/* 000078 8005A778 AE0F0020 */   sw         $t7, 0x20($s0)
.L8005A77C:
/* 00007C 8005A77C 8CB80020 */  lw          $t8, 0x20($a1)
/* 000080 8005A780 AE180020 */  sw          $t8, 0x20($s0)
.L8005A784:
/* 000084 8005A784 96190000 */  lhu         $t9, 0x0($s0)
/* 000088 8005A788 33280004 */  andi        $t0, $t9, 0x4
/* 00008C 8005A78C 51000035 */  beql        $t0, $zero, .L8005A864
/* 000090 8005A790 8CCE002C */   lw         $t6, 0x2c($a2)
/* 000094 8005A794 8CC3002C */  lw          $v1, 0x2c($a2)
/* 000098 8005A798 C6040024 */  lwc1        $f4, 0x24($s0)
/* 00009C 8005A79C 3C014F80 */  lui         $at, 0x4f80
/* 0000A0 8005A7A0 30690FFF */  andi        $t1, $v1, 0xfff
/* 0000A4 8005A7A4 44893000 */  mtc1        $t1, $f6
/* 0000A8 8005A7A8 05210004 */  bgez        $t1, .L8005A7BC
/* 0000AC 8005A7AC 46803220 */   cvt.s.w    $f8, $f6
/* 0000B0 8005A7B0 44815000 */  mtc1        $at, $f10
/* 0000B4 8005A7B4 00000000 */  nop
/* 0000B8 8005A7B8 460A4200 */  add.s       $f8, $f8, $f10
.L8005A7BC:
/* 0000BC 8005A7BC 46082402 */  mul.s       $f16, $f4, $f8
/* 0000C0 8005A7C0 24020001 */  addiu       $v0, $zero, 0x1
/* 0000C4 8005A7C4 3C014F00 */  lui         $at, 0x4f00
/* 0000C8 8005A7C8 444AF800 */  cfc1        $t2, $f31
/* 0000CC 8005A7CC 44C2F800 */  ctc1        $v0, $f31
/* 0000D0 8005A7D0 00000000 */  nop
/* 0000D4 8005A7D4 460084A4 */  cvt.w.s     $f18, $f16
/* 0000D8 8005A7D8 4442F800 */  cfc1        $v0, $f31
/* 0000DC 8005A7DC 00000000 */  nop
/* 0000E0 8005A7E0 30420078 */  andi        $v0, $v0, 0x78
/* 0000E4 8005A7E4 50400013 */  beql        $v0, $zero, .L8005A834
/* 0000E8 8005A7E8 44029000 */   mfc1       $v0, $f18
/* 0000EC 8005A7EC 44819000 */  mtc1        $at, $f18
/* 0000F0 8005A7F0 24020001 */  addiu       $v0, $zero, 0x1
/* 0000F4 8005A7F4 46128481 */  sub.s       $f18, $f16, $f18
/* 0000F8 8005A7F8 44C2F800 */  ctc1        $v0, $f31
/* 0000FC 8005A7FC 00000000 */  nop
/* 000100 8005A800 460094A4 */  cvt.w.s     $f18, $f18
/* 000104 8005A804 4442F800 */  cfc1        $v0, $f31
/* 000108 8005A808 00000000 */  nop
/* 00010C 8005A80C 30420078 */  andi        $v0, $v0, 0x78
/* 000110 8005A810 14400005 */  bne         $v0, $zero, .L8005A828
/* 000114 8005A814 00000000 */   nop
/* 000118 8005A818 44029000 */  mfc1        $v0, $f18
/* 00011C 8005A81C 3C018000 */  lui         $at, 0x8000
/* 000120 8005A820 10000007 */  b           .L8005A840
/* 000124 8005A824 00411025 */   or         $v0, $v0, $at
.L8005A828:
/* 000128 8005A828 10000005 */  b           .L8005A840
/* 00012C 8005A82C 2402FFFF */   addiu      $v0, $zero, -0x1
/* 000130 8005A830 44029000 */  mfc1        $v0, $f18
.L8005A834:
/* 000134 8005A834 00000000 */  nop
/* 000138 8005A838 0440FFFB */  bltz        $v0, .L8005A828
/* 00013C 8005A83C 00000000 */   nop
.L8005A840:
/* 000140 8005A840 AE02002C */  sw          $v0, 0x2c($s0)
/* 000144 8005A844 8CCB002C */  lw          $t3, 0x2c($a2)
/* 000148 8005A848 2401F000 */  addiu       $at, $zero, -0x1000
/* 00014C 8005A84C 44CAF800 */  ctc1        $t2, $f31
/* 000150 8005A850 01616824 */  and         $t5, $t3, $at
/* 000154 8005A854 004D6025 */  or          $t4, $v0, $t5
/* 000158 8005A858 10000003 */  b           .L8005A868
/* 00015C 8005A85C AE0C002C */   sw         $t4, 0x2c($s0)
/* 000160 8005A860 8CCE002C */  lw          $t6, 0x2c($a2)
.L8005A864:
/* 000164 8005A864 AE0E002C */  sw          $t6, 0x2c($s0)
.L8005A868:
/* 000168 8005A868 3C02800A */  lui         $v0, %hi(D_8009F68C)
/* 00016C 8005A86C 8C42F68C */  lw          $v0, %lo(D_8009F68C)($v0)
/* 000170 8005A870 8CCF0030 */  lw          $t7, 0x30($a2)
/* 000174 8005A874 0002C400 */  sll         $t8, $v0, 16
/* 000178 8005A878 01F8C823 */  subu        $t9, $t7, $t8
/* 00017C 8005A87C 03224021 */  addu        $t0, $t9, $v0
/* 000180 8005A880 AFA80034 */  sw          $t0, 0x34($sp)
/* 000184 8005A884 96030000 */  lhu         $v1, 0x0($s0)
/* 000188 8005A888 8CA7001C */  lw          $a3, 0x1c($a1)
/* 00018C 8005A88C 30690020 */  andi        $t1, $v1, 0x20
/* 000190 8005A890 11200002 */  beq         $t1, $zero, .L8005A89C
/* 000194 8005A894 306A0040 */   andi       $t2, $v1, 0x40
/* 000198 8005A898 00003825 */  move        $a3, $zero
.L8005A89C:
/* 00019C 8005A89C 5140000D */  beql        $t2, $zero, .L8005A8D4
/* 0001A0 8005A8A0 306B0080 */   andi       $t3, $v1, 0x80
/* 0001A4 8005A8A4 AE00002C */  sw          $zero, 0x2c($s0)
/* 0001A8 8005A8A8 8E040004 */  lw          $a0, 0x4($s0)
/* 0001AC 8005A8AC AFA70038 */  sw          $a3, 0x38($sp)
/* 0001B0 8005A8B0 AFA60024 */  sw          $a2, 0x24($sp)
/* 0001B4 8005A8B4 0C0143B0 */  jal         func_80050EC0
/* 0001B8 8005A8B8 AFA50044 */   sw         $a1, 0x44($sp)
/* 0001BC 8005A8BC 8FA50044 */  lw          $a1, 0x44($sp)
/* 0001C0 8005A8C0 8FA60024 */  lw          $a2, 0x24($sp)
/* 0001C4 8005A8C4 8FA70038 */  lw          $a3, 0x38($sp)
/* 0001C8 8005A8C8 00402025 */  move        $a0, $v0
/* 0001CC 8005A8CC 96030000 */  lhu         $v1, 0x0($s0)
/* 0001D0 8005A8D0 306B0080 */  andi        $t3, $v1, 0x80
.L8005A8D4:
/* 0001D4 8005A8D4 51600010 */  beql        $t3, $zero, .L8005A918
/* 0001D8 8005A8D8 3C0FA440 */   lui        $t7, 0xa440
/* 0001DC 8005A8DC 960D0028 */  lhu         $t5, 0x28($s0)
/* 0001E0 8005A8E0 3C0103FF */  lui         $at, 0x3ff
/* 0001E4 8005A8E4 8E040004 */  lw          $a0, 0x4($s0)
/* 0001E8 8005A8E8 000D6400 */  sll         $t4, $t5, 16
/* 0001EC 8005A8EC 01817024 */  and         $t6, $t4, $at
/* 0001F0 8005A8F0 AE0E002C */  sw          $t6, 0x2c($s0)
/* 0001F4 8005A8F4 AFA70038 */  sw          $a3, 0x38($sp)
/* 0001F8 8005A8F8 AFA60024 */  sw          $a2, 0x24($sp)
/* 0001FC 8005A8FC 0C0143B0 */  jal         func_80050EC0
/* 000200 8005A900 AFA50044 */   sw         $a1, 0x44($sp)
/* 000204 8005A904 8FA50044 */  lw          $a1, 0x44($sp)
/* 000208 8005A908 8FA60024 */  lw          $a2, 0x24($sp)
/* 00020C 8005A90C 8FA70038 */  lw          $a3, 0x38($sp)
/* 000210 8005A910 00402025 */  move        $a0, $v0
/* 000214 8005A914 3C0FA440 */  lui         $t7, %hi(D_A4400020)
.L8005A918:
/* 000218 8005A918 ADE40004 */  sw          $a0, %lo(D_A4400004)($t7)
/* 00021C 8005A91C 8CB80008 */  lw          $t8, 0x8($a1)
/* 000220 8005A920 3C19A440 */  lui         $t9, %hi(D_A4400008)
/* 000224 8005A924 3C09A440 */  lui         $t1, %hi(D_A4400014)
/* 000228 8005A928 AF380008 */  sw          $t8, %lo(D_A4400008)($t9)
/* 00022C 8005A92C 8CA8000C */  lw          $t0, 0xc($a1)
/* 000230 8005A930 3C0BA440 */  lui         $t3, %hi(D_A4400018)
/* 000234 8005A934 3C0CA440 */  lui         $t4, %hi(D_A440001C)
/* 000238 8005A938 AD280014 */  sw          $t0, %lo(D_A4400014)($t1)
/* 00023C 8005A93C 8CAA0010 */  lw          $t2, 0x10($a1)
/* 000240 8005A940 3C18A440 */  lui         $t8, %hi(D_A4400034)
/* 000244 8005A944 3C08A440 */  lui         $t0, %hi(D_A4400000)
/* 000248 8005A948 AD6A0018 */  sw          $t2, %lo(D_A4400018)($t3)
/* 00024C 8005A94C 8CAD0014 */  lw          $t5, 0x14($a1)
/* 000250 8005A950 3C0AA440 */  lui         $t2, %hi(D_A440002C)
/* 000254 8005A954 3C02800A */  lui         $v0, %hi(D_8009F950)
/* 000258 8005A958 AD8D001C */  sw          $t5, %lo(D_A440001C)($t4)
/* 00025C 8005A95C 8CAE0018 */  lw          $t6, 0x18($a1)
/* 000260 8005A960 3C0DA440 */  lui         $t5, %hi(D_A440000C)
/* 000264 8005A964 2442F950 */  addiu       $v0, $v0, %lo(D_8009F950)
/* 000268 8005A968 ADEE0020 */  sw          $t6, %lo(D_A4400020)($t7)
/* 00026C 8005A96C AF070024 */  sw          $a3, %lo(D_A4400024)($t8)
/* 000270 8005A970 8FB90034 */  lw          $t9, 0x34($sp)
/* 000274 8005A974 3C0EA440 */  lui         $t6, %hi(D_A4400030)
/* 000278 8005A978 3C03800A */  lui         $v1, %hi(D_8009F954)
/* 00027C 8005A97C AD190028 */  sw          $t9, %lo(D_A4400028)($t0)
/* 000280 8005A980 8CC90034 */  lw          $t1, 0x34($a2)
/* 000284 8005A984 2463F954 */  addiu       $v1, $v1, %lo(D_8009F954)
/* 000288 8005A988 AD49002C */  sw          $t1, %lo(D_A440002C)($t2)
/* 00028C 8005A98C 8CCB0038 */  lw          $t3, 0x38($a2)
/* 000290 8005A990 ADAB000C */  sw          $t3, %lo(D_A440000C)($t5)
/* 000294 8005A994 8E0C0020 */  lw          $t4, 0x20($s0)
/* 000298 8005A998 02005825 */  move        $t3, $s0
/* 00029C 8005A99C ADCC0030 */  sw          $t4, %lo(D_A4400030)($t6)
/* 0002A0 8005A9A0 8E0F002C */  lw          $t7, 0x2c($s0)
/* 0002A4 8005A9A4 260C0030 */  addiu       $t4, $s0, 0x30
/* 0002A8 8005A9A8 AF0F0034 */  sw          $t7, %lo(D_A4400034)($t8)
/* 0002AC 8005A9AC 8E19000C */  lw          $t9, 0xc($s0)
/* 0002B0 8005A9B0 AD190000 */  sw          $t9, %lo(D_A4400000)($t0)
/* 0002B4 8005A9B4 8C4A0000 */  lw          $t2, 0x0($v0)
/* 0002B8 8005A9B8 AC500000 */  sw          $s0, 0x0($v0)
/* 0002BC 8005A9BC AC6A0000 */  sw          $t2, 0x0($v1)
.L8005A9C0:
/* 0002C0 8005A9C0 8D610000 */  lw          $at, 0x0($t3)
/* 0002C4 8005A9C4 256B000C */  addiu       $t3, $t3, 0xc
/* 0002C8 8005A9C8 254A000C */  addiu       $t2, $t2, 0xc
/* 0002CC 8005A9CC AD41FFF4 */  sw          $at, -0xc($t2)
/* 0002D0 8005A9D0 8D61FFF8 */  lw          $at, -0x8($t3)
/* 0002D4 8005A9D4 AD41FFF8 */  sw          $at, -0x8($t2)
/* 0002D8 8005A9D8 8D61FFFC */  lw          $at, -0x4($t3)
/* 0002DC 8005A9DC 156CFFF8 */  bne         $t3, $t4, .L8005A9C0
/* 0002E0 8005A9E0 AD41FFFC */   sw         $at, -0x4($t2)
/* 0002E4 8005A9E4 8FBF001C */  lw          $ra, 0x1c($sp)
/* 0002E8 8005A9E8 8FB00018 */  lw          $s0, 0x18($sp)
/* 0002EC 8005A9EC 27BD0048 */  addiu       $sp, $sp, 0x48
/* 0002F0 8005A9F0 03E00008 */  jr          $ra
/* 0002F4 8005A9F4 00000000 */   nop
/* 0002F8 8005A9F8 00000000 */  nop
/* 0002FC 8005A9FC 00000000 */  nop
