.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text

.balign 16

glabel func_80055630 # 0
/* 0551E0 80055630 27BDFF98 */  addiu       $sp, $sp, -0x68
/* 0551E4 80055634 AFB30024 */  sw          $s3, 0x24($sp)
/* 0551E8 80055638 3C138010 */  lui         $s3, %hi(D_800FDC10)
/* 0551EC 8005563C 2673DC10 */  addiu       $s3, $s3, %lo(D_800FDC10)
/* 0551F0 80055640 AFBF003C */  sw          $ra, 0x3c($sp)
/* 0551F4 80055644 AFBE0038 */  sw          $fp, 0x38($sp)
/* 0551F8 80055648 AFB20020 */  sw          $s2, 0x20($sp)
/* 0551FC 8005564C AFB1001C */  sw          $s1, 0x1c($sp)
/* 055200 80055650 AFB00018 */  sw          $s0, 0x18($sp)
/* 055204 80055654 00A08825 */  move        $s1, $a1
/* 055208 80055658 0080F025 */  move        $fp, $a0
/* 05520C 8005565C AFB70034 */  sw          $s7, 0x34($sp)
/* 055210 80055660 AFB60030 */  sw          $s6, 0x30($sp)
/* 055214 80055664 AFB5002C */  sw          $s5, 0x2c($sp)
/* 055218 80055668 AFB40028 */  sw          $s4, 0x28($sp)
/* 05521C 8005566C AFA60070 */  sw          $a2, 0x70($sp)
/* 055220 80055670 02608025 */  move        $s0, $s3
/* 055224 80055674 24120002 */  addiu       $s2, $zero, 0x2
/* 055228 80055678 0C0160FC */  jal         func_800583F0
/* 05522C 8005567C AFA0005C */   sw         $zero, 0x5c($sp)
/* 055230 80055680 8FA3005C */  lw          $v1, 0x5c($sp)
/* 055234 80055684 0271B821 */  addu        $s7, $s3, $s1
/* 055238 80055688 241600FE */  addiu       $s6, $zero, 0xfe
/* 05523C 8005568C 24150001 */  addiu       $s5, $zero, 0x1
/* 055240 80055690 24140004 */  addiu       $s4, $zero, 0x4
.L80055694:
/* 055244 80055694 10740021 */  beq         $v1, $s4, .L8005571C
/* 055248 80055698 00001025 */   move       $v0, $zero
/* 05524C 8005569C 1A200010 */  blez        $s1, .L800556E0
/* 055250 800556A0 AE75003C */   sw         $s5, 0x3c($s3)
/* 055254 800556A4 32240003 */  andi        $a0, $s1, 0x3
/* 055258 800556A8 10800006 */  beq         $a0, $zero, .L800556C4
/* 05525C 800556AC 00801825 */   move       $v1, $a0
.L800556B0:
/* 055260 800556B0 24420001 */  addiu       $v0, $v0, 0x1
/* 055264 800556B4 A2000000 */  sb          $zero, 0x0($s0)
/* 055268 800556B8 1462FFFD */  bne         $v1, $v0, .L800556B0
/* 05526C 800556BC 26100001 */   addiu      $s0, $s0, 0x1
/* 055270 800556C0 10510007 */  beq         $v0, $s1, .L800556E0
.L800556C4:
/* 055274 800556C4 24420004 */   addiu      $v0, $v0, 0x4
/* 055278 800556C8 A2000000 */  sb          $zero, 0x0($s0)
/* 05527C 800556CC A2000001 */  sb          $zero, 0x1($s0)
/* 055280 800556D0 A2000002 */  sb          $zero, 0x2($s0)
/* 055284 800556D4 A2000003 */  sb          $zero, 0x3($s0)
/* 055288 800556D8 1451FFFA */  bne         $v0, $s1, .L800556C4
/* 05528C 800556DC 26100004 */   addiu      $s0, $s0, 0x4
.L800556E0:
/* 055290 800556E0 240E0003 */  addiu       $t6, $zero, 0x3
/* 055294 800556E4 A2150000 */  sb          $s5, 0x0($s0)
/* 055298 800556E8 A20E0001 */  sb          $t6, 0x1($s0)
/* 05529C 800556EC A2000002 */  sb          $zero, 0x2($s0)
/* 0552A0 800556F0 A2160006 */  sb          $s6, 0x6($s0)
/* 0552A4 800556F4 3C018010 */  lui         $at, %hi(D_800FDC50)
/* 0552A8 800556F8 26100006 */  addiu       $s0, $s0, 0x6
/* 0552AC 800556FC A036DC50 */  sb          $s6, %lo(D_800FDC50)($at)
/* 0552B0 80055700 24040001 */  addiu       $a0, $zero, 0x1
/* 0552B4 80055704 0C016118 */  jal         func_80058460
/* 0552B8 80055708 02602825 */   move       $a1, $s3
/* 0552BC 8005570C 03C02025 */  move        $a0, $fp
/* 0552C0 80055710 00002825 */  move        $a1, $zero
/* 0552C4 80055714 0C014554 */  jal         osRecvMesg
/* 0552C8 80055718 24060001 */   addiu      $a2, $zero, 0x1
.L8005571C:
/* 0552CC 8005571C 00002025 */  move        $a0, $zero
/* 0552D0 80055720 02602825 */  move        $a1, $s3
/* 0552D4 80055724 0C016118 */  jal         func_80058460
/* 0552D8 80055728 02E08025 */   move       $s0, $s7
/* 0552DC 8005572C 03C02025 */  move        $a0, $fp
/* 0552E0 80055730 00002825 */  move        $a1, $zero
/* 0552E4 80055734 0C014554 */  jal         osRecvMesg
/* 0552E8 80055738 24060001 */   addiu      $a2, $zero, 0x1
/* 0552EC 8005573C 8AE10000 */  lwl         $at, 0x0($s7)
/* 0552F0 80055740 9AE10003 */  lwr         $at, 0x3($s7)
/* 0552F4 80055744 27AF0060 */  addiu       $t7, $sp, 0x60
/* 0552F8 80055748 2A420000 */  slti        $v0, $s2, 0x0
/* 0552FC 8005574C ADE10000 */  sw          $at, 0x0($t7)
/* 055300 80055750 92E10004 */  lbu         $at, 0x4($s7)
/* 055304 80055754 A1E10004 */  sb          $at, 0x4($t7)
/* 055308 80055758 92E80005 */  lbu         $t0, 0x5($s7)
/* 05530C 8005575C A1E80005 */  sb          $t0, 0x5($t7)
/* 055310 80055760 93A30061 */  lbu         $v1, 0x61($sp)
/* 055314 80055764 8FAD0070 */  lw          $t5, 0x70($sp)
/* 055318 80055768 93AC0065 */  lbu         $t4, 0x65($sp)
/* 05531C 8005576C 306900C0 */  andi        $t1, $v1, 0xc0
/* 055320 80055770 00095103 */  sra         $t2, $t1, 4
/* 055324 80055774 314300FF */  andi        $v1, $t2, 0xff
/* 055328 80055778 1460000E */  bne         $v1, $zero, .L800557B4
/* 05532C 8005577C A1AC0000 */   sb         $t4, 0x0($t5)
/* 055330 80055780 93AE0063 */  lbu         $t6, 0x63($sp)
/* 055334 80055784 93B90064 */  lbu         $t9, 0x64($sp)
/* 055338 80055788 24010001 */  addiu       $at, $zero, 0x1
/* 05533C 8005578C 15C00007 */  bne         $t6, $zero, .L800557AC
/* 055340 80055790 00000000 */   nop
/* 055344 80055794 17210005 */  bne         $t9, $at, .L800557AC
/* 055348 80055798 31980004 */   andi       $t8, $t4, 0x4
/* 05534C 8005579C 1300000A */  beq         $t8, $zero, .L800557C8
/* 055350 800557A0 00000000 */   nop
/* 055354 800557A4 10000008 */  b           .L800557C8
/* 055358 800557A8 02801825 */   move       $v1, $s4
.L800557AC:
/* 05535C 800557AC 10000006 */  b           .L800557C8
/* 055360 800557B0 2403000B */   addiu      $v1, $zero, 0xb
.L800557B4:
/* 055364 800557B4 306F0008 */  andi        $t7, $v1, 0x8
/* 055368 800557B8 11E00003 */  beq         $t7, $zero, .L800557C8
/* 05536C 800557BC 02801825 */   move       $v1, $s4
/* 055370 800557C0 10000001 */  b           .L800557C8
/* 055374 800557C4 24030001 */   addiu      $v1, $zero, 0x1
.L800557C8:
/* 055378 800557C8 14740003 */  bne         $v1, $s4, .L800557D8
/* 05537C 800557CC 00000000 */   nop
/* 055380 800557D0 1040FFB0 */  beq         $v0, $zero, .L80055694
/* 055384 800557D4 2652FFFF */   addiu      $s2, $s2, -0x1
.L800557D8:
/* 055388 800557D8 0C01610D */  jal         func_80058434
/* 05538C 800557DC AFA3005C */   sw         $v1, 0x5c($sp)
/* 055390 800557E0 8FBF003C */  lw          $ra, 0x3c($sp)
/* 055394 800557E4 8FA2005C */  lw          $v0, 0x5c($sp)
/* 055398 800557E8 8FB00018 */  lw          $s0, 0x18($sp)
/* 05539C 800557EC 8FB1001C */  lw          $s1, 0x1c($sp)
/* 0553A0 800557F0 8FB20020 */  lw          $s2, 0x20($sp)
/* 0553A4 800557F4 8FB30024 */  lw          $s3, 0x24($sp)
/* 0553A8 800557F8 8FB40028 */  lw          $s4, 0x28($sp)
/* 0553AC 800557FC 8FB5002C */  lw          $s5, 0x2c($sp)
/* 0553B0 80055800 8FB60030 */  lw          $s6, 0x30($sp)
/* 0553B4 80055804 8FB70034 */  lw          $s7, 0x34($sp)
/* 0553B8 80055808 8FBE0038 */  lw          $fp, 0x38($sp)
/* 0553BC 8005580C 03E00008 */  jr          $ra
/* 0553C0 80055810 27BD0068 */   addiu      $sp, $sp, 0x68
/* 0553C4 80055814 00000000 */  nop
/* 0553C8 80055818 00000000 */  nop
/* 0553CC 8005581C 00000000 */  nop
