.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text

.balign 16

glabel func_80054400 # 0
/* 000000 80054400 27BDFFD0 */  addiu       $sp, $sp, -0x30
/* 000004 80054404 AFB00020 */  sw          $s0, 0x20($sp)
/* 000008 80054408 3C10800A */  lui         $s0, %hi(D_8009F670)
/* 00000C 8005440C 2610F670 */  addiu       $s0, $s0, %lo(D_8009F670)
/* 000010 80054410 8E0E0000 */  lw          $t6, 0x0($s0)
/* 000014 80054414 AFBF0024 */  sw          $ra, 0x24($sp)
/* 000018 80054418 AFA40030 */  sw          $a0, 0x30($sp)
/* 00001C 8005441C 55C00054 */  bnel        $t6, $zero, .L80054570
/* 000020 80054420 8FBF0024 */   lw         $ra, 0x24($sp)
/* 000024 80054424 0C0162B0 */  jal         func_80058AC0
/* 000028 80054428 00000000 */   nop
/* 00002C 8005442C 3C01800A */  lui         $at, %hi(D_8009F68C)
/* 000030 80054430 3C048010 */  lui         $a0, %hi(D_80100250)
/* 000034 80054434 3C058010 */  lui         $a1, %hi(D_80100268)
/* 000038 80054438 AC20F68C */  sw          $zero, %lo(D_8009F68C)($at)
/* 00003C 8005443C 24A50268 */  addiu       $a1, $a1, %lo(D_80100268)
/* 000040 80054440 24840250 */  addiu       $a0, $a0, %lo(D_80100250)
/* 000044 80054444 0C0145B8 */  jal         func_800516E0
/* 000048 80054448 24060005 */   addiu      $a2, $zero, 0x5
/* 00004C 8005444C 3C068010 */  lui         $a2, %hi(D_80100280)
/* 000050 80054450 3C078010 */  lui         $a3, %hi(D_80100298)
/* 000054 80054454 24E70298 */  addiu       $a3, $a3, %lo(D_80100298)
/* 000058 80054458 24C60280 */  addiu       $a2, $a2, %lo(D_80100280)
/* 00005C 8005445C 240F000D */  addiu       $t7, $zero, 0xd
/* 000060 80054460 2418000E */  addiu       $t8, $zero, 0xe
/* 000064 80054464 3C058010 */  lui         $a1, %hi(D_80100250)
/* 000068 80054468 A4CF0000 */  sh          $t7, 0x0($a2)
/* 00006C 8005446C A0C00002 */  sb          $zero, 0x2($a2)
/* 000070 80054470 ACC00004 */  sw          $zero, 0x4($a2)
/* 000074 80054474 A4F80000 */  sh          $t8, 0x0($a3)
/* 000078 80054478 A0E00002 */  sb          $zero, 0x2($a3)
/* 00007C 8005447C ACE00004 */  sw          $zero, 0x4($a3)
/* 000080 80054480 24A50250 */  addiu       $a1, $a1, %lo(D_80100250)
/* 000084 80054484 0C0145C4 */  jal         func_80051710
/* 000088 80054488 24040007 */   addiu      $a0, $zero, 0x7
/* 00008C 8005448C 3C078010 */  lui         $a3, %hi(D_80100298)
/* 000090 80054490 3C058010 */  lui         $a1, %hi(D_80100250)
/* 000094 80054494 24E60298 */  addiu       $a2, $a3, %lo(D_80100298)
/* 000098 80054498 24A50250 */  addiu       $a1, $a1, %lo(D_80100250)
/* 00009C 8005449C 0C0145C4 */  jal         func_80051710
/* 0000A0 800544A0 24040003 */   addiu      $a0, $zero, 0x3
/* 0000A4 800544A4 2419FFFF */  addiu       $t9, $zero, -0x1
/* 0000A8 800544A8 AFB90028 */  sw          $t9, 0x28($sp)
/* 0000AC 800544AC 0C016804 */  jal         func_8005A010
/* 0000B0 800544B0 00002025 */   move       $a0, $zero
/* 0000B4 800544B4 8FA80030 */  lw          $t0, 0x30($sp)
/* 0000B8 800544B8 00002025 */  move        $a0, $zero
/* 0000BC 800544BC 0048082A */  slt         $at, $v0, $t0
/* 0000C0 800544C0 10200003 */  beq         $at, $zero, .L800544D0
/* 0000C4 800544C4 01002825 */   move       $a1, $t0
/* 0000C8 800544C8 0C014350 */  jal         func_80050D40
/* 0000CC 800544CC AFA20028 */   sw         $v0, 0x28($sp)
.L800544D0:
/* 0000D0 800544D0 0C015FFC */  jal         func_80057FF0
/* 0000D4 800544D4 00000000 */   nop
/* 0000D8 800544D8 8FAB0030 */  lw          $t3, 0x30($sp)
/* 0000DC 800544DC 3C038010 */  lui         $v1, %hi(D_80100250)
/* 0000E0 800544E0 3C048010 */  lui         $a0, %hi(D_800FF0A0)
/* 0000E4 800544E4 3C0A8010 */  lui         $t2, %hi(D_80100250)
/* 0000E8 800544E8 2484F0A0 */  addiu       $a0, $a0, %lo(D_800FF0A0)
/* 0000EC 800544EC 24630250 */  addiu       $v1, $v1, %lo(D_80100250)
/* 0000F0 800544F0 24090001 */  addiu       $t1, $zero, 0x1
/* 0000F4 800544F4 254A0250 */  addiu       $t2, $t2, %lo(D_80100250)
/* 0000F8 800544F8 3C068005 */  lui         $a2, %hi(func_80054580)
/* 0000FC 800544FC AFA2002C */  sw          $v0, 0x2c($sp)
/* 000100 80054500 AE090000 */  sw          $t1, 0x0($s0)
/* 000104 80054504 AE040004 */  sw          $a0, 0x4($s0)
/* 000108 80054508 AE030008 */  sw          $v1, 0x8($s0)
/* 00010C 8005450C AE03000C */  sw          $v1, 0xc($s0)
/* 000110 80054510 AE000010 */  sw          $zero, 0x10($s0)
/* 000114 80054514 AE000014 */  sw          $zero, 0x14($s0)
/* 000118 80054518 AE000018 */  sw          $zero, 0x18($s0)
/* 00011C 8005451C 24C64580 */  addiu       $a2, $a2, %lo(func_80054580)
/* 000120 80054520 AFAA0010 */  sw          $t2, 0x10($sp)
/* 000124 80054524 00002825 */  move        $a1, $zero
/* 000128 80054528 02003825 */  move        $a3, $s0
/* 00012C 8005452C 0C0142A8 */  jal         func_80050AA0
/* 000130 80054530 AFAB0014 */   sw         $t3, 0x14($sp)
/* 000134 80054534 0C016460 */  jal         func_80059180
/* 000138 80054538 00000000 */   nop
/* 00013C 8005453C 3C048010 */  lui         $a0, %hi(D_800FF0A0)
/* 000140 80054540 0C0142FC */  jal         func_80050BF0
/* 000144 80054544 2484F0A0 */   addiu      $a0, $a0, %lo(D_800FF0A0)
/* 000148 80054548 0C016018 */  jal         func_80058060
/* 00014C 8005454C 8FA4002C */   lw         $a0, 0x2c($sp)
/* 000150 80054550 8FAC0028 */  lw          $t4, 0x28($sp)
/* 000154 80054554 2401FFFF */  addiu       $at, $zero, -0x1
/* 000158 80054558 00002025 */  move        $a0, $zero
/* 00015C 8005455C 51810004 */  beql        $t4, $at, .L80054570
/* 000160 80054560 8FBF0024 */   lw         $ra, 0x24($sp)
/* 000164 80054564 0C014350 */  jal         func_80050D40
/* 000168 80054568 01802825 */   move       $a1, $t4
/* 00016C 8005456C 8FBF0024 */  lw          $ra, 0x24($sp)
.L80054570:
/* 000170 80054570 8FB00020 */  lw          $s0, 0x20($sp)
/* 000174 80054574 27BD0030 */  addiu       $sp, $sp, 0x30
/* 000178 80054578 03E00008 */  jr          $ra
/* 00017C 8005457C 00000000 */   nop

glabel func_80054580 # 1
/* 000180 80054580 27BDFFB0 */  addiu       $sp, $sp, -0x50
/* 000184 80054584 AFBF0034 */  sw          $ra, 0x34($sp)
/* 000188 80054588 AFB70030 */  sw          $s7, 0x30($sp)
/* 00018C 8005458C 0080B825 */  move        $s7, $a0
/* 000190 80054590 AFB6002C */  sw          $s6, 0x2c($sp)
/* 000194 80054594 AFB50028 */  sw          $s5, 0x28($sp)
/* 000198 80054598 AFB40024 */  sw          $s4, 0x24($sp)
/* 00019C 8005459C AFB30020 */  sw          $s3, 0x20($sp)
/* 0001A0 800545A0 AFB2001C */  sw          $s2, 0x1c($sp)
/* 0001A4 800545A4 AFB10018 */  sw          $s1, 0x18($sp)
/* 0001A8 800545A8 AFB00014 */  sw          $s0, 0x14($sp)
/* 0001AC 800545AC 0C0169BC */  jal         func_8005A6F0
/* 0001B0 800545B0 AFA00044 */   sw         $zero, 0x44($sp)
/* 0001B4 800545B4 94430002 */  lhu         $v1, 0x2($v0)
/* 0001B8 800545B8 3C018010 */  lui         $at, %hi(D_801002B0)
/* 0001BC 800545BC 2416000E */  addiu       $s6, $zero, 0xe
/* 0001C0 800545C0 14600004 */  bne         $v1, $zero, .L800545D4
/* 0001C4 800545C4 A42302B0 */   sh         $v1, %lo(D_801002B0)($at)
/* 0001C8 800545C8 24030001 */  addiu       $v1, $zero, 0x1
/* 0001CC 800545CC 3C018010 */  lui         $at, %hi(D_801002B0)
/* 0001D0 800545D0 A42302B0 */  sh          $v1, %lo(D_801002B0)($at)
.L800545D4:
/* 0001D4 800545D4 3C138010 */  lui         $s3, %hi(D_8010035C)
/* 0001D8 800545D8 3C128010 */  lui         $s2, %hi(D_80100358)
/* 0001DC 800545DC 3C118010 */  lui         $s1, %hi(D_80100350)
/* 0001E0 800545E0 26310350 */  addiu       $s1, $s1, %lo(D_80100350)
/* 0001E4 800545E4 26520358 */  addiu       $s2, $s2, %lo(D_80100358)
/* 0001E8 800545E8 2673035C */  addiu       $s3, $s3, %lo(D_8010035C)
/* 0001EC 800545EC 2415000D */  addiu       $s5, $zero, 0xd
/* 0001F0 800545F0 27B40044 */  addiu       $s4, $sp, 0x44
.L800545F4:
/* 0001F4 800545F4 8EE4000C */  lw          $a0, 0xc($s7)
.L800545F8:
/* 0001F8 800545F8 02802825 */  move        $a1, $s4
/* 0001FC 800545FC 0C014554 */  jal         func_80051550
/* 000200 80054600 24060001 */   addiu      $a2, $zero, 0x1
/* 000204 80054604 8FAE0044 */  lw          $t6, 0x44($sp)
/* 000208 80054608 95C30000 */  lhu         $v1, 0x0($t6)
/* 00020C 8005460C 10750005 */  beq         $v1, $s5, .L80054624
/* 000210 80054610 00000000 */   nop
/* 000214 80054614 1076002A */  beq         $v1, $s6, .L800546C0
/* 000218 80054618 00000000 */   nop
/* 00021C 8005461C 1000FFF6 */  b           .L800545F8
/* 000220 80054620 8EE4000C */   lw         $a0, 0xc($s7)
.L80054624:
/* 000224 80054624 0C0169C0 */  jal         func_8005A700
/* 000228 80054628 00000000 */   nop
/* 00022C 8005462C 3C038010 */  lui         $v1, %hi(D_801002B0)
/* 000230 80054630 946302B0 */  lhu         $v1, %lo(D_801002B0)($v1)
/* 000234 80054634 3C018010 */  lui         $at, %hi(D_801002B0)
/* 000238 80054638 2463FFFF */  addiu       $v1, $v1, -0x1
/* 00023C 8005463C 306FFFFF */  andi        $t7, $v1, 0xffff
/* 000240 80054640 15E0000E */  bne         $t7, $zero, .L8005467C
/* 000244 80054644 A42F02B0 */   sh         $t7, %lo(D_801002B0)($at)
/* 000248 80054648 0C0169BC */  jal         func_8005A6F0
/* 00024C 8005464C 00000000 */   nop
/* 000250 80054650 8C580010 */  lw          $t8, 0x10($v0)
/* 000254 80054654 00408025 */  move        $s0, $v0
/* 000258 80054658 00003025 */  move        $a2, $zero
/* 00025C 8005465C 53000005 */  beql        $t8, $zero, .L80054674
/* 000260 80054660 96030002 */   lhu        $v1, 0x2($s0)
/* 000264 80054664 8C440010 */  lw          $a0, 0x10($v0)
/* 000268 80054668 0C014C64 */  jal         func_80053190
/* 00026C 8005466C 8C450014 */   lw         $a1, 0x14($v0)
/* 000270 80054670 96030002 */  lhu         $v1, 0x2($s0)
.L80054674:
/* 000274 80054674 3C018010 */  lui         $at, %hi(D_801002B0)
/* 000278 80054678 A42302B0 */  sh          $v1, %lo(D_801002B0)($at)
.L8005467C:
/* 00027C 8005467C 8E790000 */  lw          $t9, 0x0($s3)
/* 000280 80054680 8E500000 */  lw          $s0, 0x0($s2)
/* 000284 80054684 27280001 */  addiu       $t0, $t9, 0x1
/* 000288 80054688 0C014CB8 */  jal         func_800532E0
/* 00028C 8005468C AE680000 */   sw         $t0, 0x0($s3)
/* 000290 80054690 8E2D0004 */  lw          $t5, 0x4($s1)
/* 000294 80054694 00508023 */  subu        $s0, $v0, $s0
/* 000298 80054698 8E2C0000 */  lw          $t4, 0x0($s1)
/* 00029C 8005469C 020D7821 */  addu        $t7, $s0, $t5
/* 0002A0 800546A0 240A0000 */  addiu       $t2, $zero, 0x0
/* 0002A4 800546A4 01ED082B */  sltu        $at, $t7, $t5
/* 0002A8 800546A8 002A7021 */  addu        $t6, $at, $t2
/* 0002AC 800546AC 01CC7021 */  addu        $t6, $t6, $t4
/* 0002B0 800546B0 AE420000 */  sw          $v0, 0x0($s2)
/* 0002B4 800546B4 AE2E0000 */  sw          $t6, 0x0($s1)
/* 0002B8 800546B8 1000FFCE */  b           .L800545F4
/* 0002BC 800546BC AE2F0004 */   sw         $t7, 0x4($s1)
.L800546C0:
/* 0002C0 800546C0 0C0162D3 */  jal         func_80058B4C
/* 0002C4 800546C4 00000000 */   nop
/* 0002C8 800546C8 1000FFCB */  b           .L800545F8
/* 0002CC 800546CC 8EE4000C */   lw         $a0, 0xc($s7)
/* 0002D0 800546D0 00000000 */  nop
/* 0002D4 800546D4 00000000 */  nop
/* 0002D8 800546D8 00000000 */  nop
/* 0002DC 800546DC 00000000 */  nop
/* 0002E0 800546E0 8FBF0034 */  lw          $ra, 0x34($sp)
/* 0002E4 800546E4 8FB00014 */  lw          $s0, 0x14($sp)
/* 0002E8 800546E8 8FB10018 */  lw          $s1, 0x18($sp)
/* 0002EC 800546EC 8FB2001C */  lw          $s2, 0x1c($sp)
/* 0002F0 800546F0 8FB30020 */  lw          $s3, 0x20($sp)
/* 0002F4 800546F4 8FB40024 */  lw          $s4, 0x24($sp)
/* 0002F8 800546F8 8FB50028 */  lw          $s5, 0x28($sp)
/* 0002FC 800546FC 8FB6002C */  lw          $s6, 0x2c($sp)
/* 000300 80054700 8FB70030 */  lw          $s7, 0x30($sp)
/* 000304 80054704 03E00008 */  jr          $ra
/* 000308 80054708 27BD0050 */   addiu      $sp, $sp, 0x50
/* 00030C 8005470C 00000000 */  nop
