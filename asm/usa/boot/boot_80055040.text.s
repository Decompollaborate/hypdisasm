.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text

.balign 16

glabel func_80055040 # 0
/* 000000 80055040 27BDFFB8 */  addiu       $sp, $sp, -0x48
/* 000004 80055044 AFBF002C */  sw          $ra, 0x2c($sp)
/* 000008 80055048 AFB50028 */  sw          $s5, 0x28($sp)
/* 00000C 8005504C AFB00014 */  sw          $s0, 0x14($sp)
/* 000010 80055050 00808025 */  move        $s0, $a0
/* 000014 80055054 27B5003F */  addiu       $s5, $sp, 0x3f
/* 000018 80055058 AFB40024 */  sw          $s4, 0x24($sp)
/* 00001C 8005505C AFB30020 */  sw          $s3, 0x20($sp)
/* 000020 80055060 AFB2001C */  sw          $s2, 0x1c($sp)
/* 000024 80055064 AFB10018 */  sw          $s1, 0x18($sp)
/* 000028 80055068 8E050004 */  lw          $a1, 0x4($s0)
/* 00002C 8005506C 8C840000 */  lw          $a0, 0x0($a0)
/* 000030 80055070 0C01558C */  jal         func_80055630
/* 000034 80055074 02A03025 */   move       $a2, $s5
/* 000038 80055078 10400003 */  beq         $v0, $zero, .L80055088
/* 00003C 8005507C 93AE003F */   lbu        $t6, 0x3f($sp)
/* 000040 80055080 1000002F */  b           .L80055140
/* 000044 80055084 8FBF002C */   lw         $ra, 0x2c($sp)
.L80055088:
/* 000048 80055088 31CF0002 */  andi        $t7, $t6, 0x2
/* 00004C 8005508C 51E00004 */  beql        $t7, $zero, .L800550A0
/* 000050 80055090 8E180008 */   lw         $t8, 0x8($s0)
/* 000054 80055094 10000029 */  b           .L8005513C
/* 000058 80055098 2402000F */   addiu      $v0, $zero, 0xf
/* 00005C 8005509C 8E180008 */  lw          $t8, 0x8($s0)
.L800550A0:
/* 000060 800550A0 24190700 */  addiu       $t9, $zero, 0x700
/* 000064 800550A4 00003025 */  move        $a2, $zero
/* 000068 800550A8 17000003 */  bne         $t8, $zero, .L800550B8
/* 00006C 800550AC 27A70038 */   addiu      $a3, $sp, 0x38
/* 000070 800550B0 10000022 */  b           .L8005513C
/* 000074 800550B4 24020005 */   addiu      $v0, $zero, 0x5
.L800550B8:
/* 000078 800550B8 AFB90038 */  sw          $t9, 0x38($sp)
/* 00007C 800550BC 8E050004 */  lw          $a1, 0x4($s0)
/* 000080 800550C0 0C0156D0 */  jal         func_80055B40
/* 000084 800550C4 8E040000 */   lw         $a0, 0x0($s0)
/* 000088 800550C8 1440001B */  bne         $v0, $zero, .L80055138
/* 00008C 800550CC 00401825 */   move       $v1, $v0
/* 000090 800550D0 00008825 */  move        $s1, $zero
/* 000094 800550D4 24140014 */  addiu       $s4, $zero, 0x14
/* 000098 800550D8 2413000F */  addiu       $s3, $zero, 0xf
/* 00009C 800550DC 24120007 */  addiu       $s2, $zero, 0x7
/* 0000A0 800550E0 02002025 */  move        $a0, $s0
.L800550E4:
/* 0000A4 800550E4 0C01575C */  jal         func_80055D70
/* 0000A8 800550E8 02A02825 */   move       $a1, $s5
/* 0000AC 800550EC 3048FF00 */  andi        $t0, $v0, 0xff00
/* 0000B0 800550F0 1100000A */  beq         $t0, $zero, .L8005511C
/* 0000B4 800550F4 00401825 */   move       $v1, $v0
/* 0000B8 800550F8 30430007 */  andi        $v1, $v0, 0x7
/* 0000BC 800550FC 50600003 */  beql        $v1, $zero, .L8005510C
/* 0000C0 80055100 00001825 */   move       $v1, $zero
/* 0000C4 80055104 16430003 */  bne         $s2, $v1, .L80055114
/* 0000C8 80055108 00001825 */   move       $v1, $zero
.L8005510C:
/* 0000CC 8005510C 10000004 */  b           .L80055120
/* 0000D0 80055110 AE000008 */   sw         $zero, 0x8($s0)
.L80055114:
/* 0000D4 80055114 10000002 */  b           .L80055120
/* 0000D8 80055118 24030005 */   addiu      $v1, $zero, 0x5
.L8005511C:
/* 0000DC 8005511C AE000008 */  sw          $zero, 0x8($s0)
.L80055120:
/* 0000E0 80055120 26310001 */  addiu       $s1, $s1, 0x1
/* 0000E4 80055124 14730004 */  bne         $v1, $s3, .L80055138
/* 0000E8 80055128 AFB10040 */   sw         $s1, 0x40($sp)
/* 0000EC 8005512C 5634FFED */  bnel        $s1, $s4, .L800550E4
/* 0000F0 80055130 02002025 */   move       $a0, $s0
/* 0000F4 80055134 AFB10040 */  sw          $s1, 0x40($sp)
.L80055138:
/* 0000F8 80055138 00601025 */  move        $v0, $v1
.L8005513C:
/* 0000FC 8005513C 8FBF002C */  lw          $ra, 0x2c($sp)
.L80055140:
/* 000100 80055140 8FB00014 */  lw          $s0, 0x14($sp)
/* 000104 80055144 8FB10018 */  lw          $s1, 0x18($sp)
/* 000108 80055148 8FB2001C */  lw          $s2, 0x1c($sp)
/* 00010C 8005514C 8FB30020 */  lw          $s3, 0x20($sp)
/* 000110 80055150 8FB40024 */  lw          $s4, 0x24($sp)
/* 000114 80055154 8FB50028 */  lw          $s5, 0x28($sp)
/* 000118 80055158 03E00008 */  jr          $ra
/* 00011C 8005515C 27BD0048 */   addiu      $sp, $sp, 0x48

glabel func_80055160 # 1
/* 000120 80055160 40026000 */  cop0        0x0026000
/* 000124 80055164 3042FF01 */  andi        $v0, $v0, 0xff01
/* 000128 80055168 3C08800A */  lui         $t0, %hi(D_8009DC80)
/* 00012C 8005516C 2508DC80 */  addiu       $t0, $t0, %lo(D_8009DC80)
/* 000130 80055170 8D090000 */  lw          $t1, 0x0($t0)
/* 000134 80055174 2401FFFF */  addiu       $at, $zero, -0x1
/* 000138 80055178 01214026 */  xor         $t0, $t1, $at
/* 00013C 8005517C 3108FF00 */  andi        $t0, $t0, 0xff00
/* 000140 80055180 00481025 */  or          $v0, $v0, $t0
/* 000144 80055184 3C09A430 */  lui         $t1, %hi(D_A430000C)
/* 000148 80055188 8D29000C */  lw          $t1, %lo(D_A430000C)($t1)
/* 00014C 8005518C 11200008 */  beq         $t1, $zero, .L800551B0
/* 000150 80055190 3C08800A */   lui        $t0, %hi(D_8009DC80)
/* 000154 80055194 2508DC80 */  addiu       $t0, $t0, %lo(D_8009DC80)
/* 000158 80055198 8D080000 */  lw          $t0, 0x0($t0)
/* 00015C 8005519C 00084402 */  srl         $t0, $t0, 16
/* 000160 800551A0 2401FFFF */  addiu       $at, $zero, -0x1
/* 000164 800551A4 01014026 */  xor         $t0, $t0, $at
/* 000168 800551A8 3108003F */  andi        $t0, $t0, 0x3f
/* 00016C 800551AC 01284825 */  or          $t1, $t1, $t0
.L800551B0:
/* 000170 800551B0 00095400 */  sll         $t2, $t1, 16
/* 000174 800551B4 004A1025 */  or          $v0, $v0, $t2
/* 000178 800551B8 03E00008 */  jr          $ra
/* 00017C 800551BC 00000000 */   nop

glabel func_800551C0 # 2
/* 000180 800551C0 27BDFF98 */  addiu       $sp, $sp, -0x68
/* 000184 800551C4 AFBF003C */  sw          $ra, 0x3c($sp)
/* 000188 800551C8 AFB40028 */  sw          $s4, 0x28($sp)
/* 00018C 800551CC AFB30024 */  sw          $s3, 0x24($sp)
/* 000190 800551D0 AFB1001C */  sw          $s1, 0x1c($sp)
/* 000194 800551D4 00A08825 */  move        $s1, $a1
/* 000198 800551D8 0080A025 */  move        $s4, $a0
/* 00019C 800551DC AFBE0038 */  sw          $fp, 0x38($sp)
/* 0001A0 800551E0 AFB70034 */  sw          $s7, 0x34($sp)
/* 0001A4 800551E4 AFB60030 */  sw          $s6, 0x30($sp)
/* 0001A8 800551E8 AFB5002C */  sw          $s5, 0x2c($sp)
/* 0001AC 800551EC AFB20020 */  sw          $s2, 0x20($sp)
/* 0001B0 800551F0 AFB00018 */  sw          $s0, 0x18($sp)
/* 0001B4 800551F4 AFA60070 */  sw          $a2, 0x70($sp)
/* 0001B8 800551F8 0C0160FC */  jal         func_800583F0
/* 0001BC 800551FC 24130002 */   addiu      $s3, $zero, 0x2
/* 0001C0 80055200 93A50073 */  lbu         $a1, 0x73($sp)
/* 0001C4 80055204 3C16800A */  lui         $s6, %hi(D_8009F8C0)
/* 0001C8 80055208 3C158010 */  lui         $s5, %hi(D_800FDC50)
/* 0001CC 8005520C 000570C0 */  sll         $t6, $a1, 3
/* 0001D0 80055210 31CFFFFF */  andi        $t7, $t6, 0xffff
/* 0001D4 80055214 3C128010 */  lui         $s2, %hi(D_80100390)
/* 0001D8 80055218 26520390 */  addiu       $s2, $s2, %lo(D_80100390)
/* 0001DC 8005521C AFAF0048 */  sw          $t7, 0x48($sp)
/* 0001E0 80055220 26B5DC50 */  addiu       $s5, $s5, %lo(D_800FDC50)
/* 0001E4 80055224 26D6F8C0 */  addiu       $s6, $s6, %lo(D_8009F8C0)
/* 0001E8 80055228 241E0001 */  addiu       $fp, $zero, 0x1
/* 0001EC 8005522C 2417000D */  addiu       $s7, $zero, 0xd
.L80055230:
/* 0001F0 80055230 92B80000 */  lbu         $t8, 0x0($s5)
/* 0001F4 80055234 2401000D */  addiu       $at, $zero, 0xd
/* 0001F8 80055238 93A50073 */  lbu         $a1, 0x73($sp)
/* 0001FC 8005523C 17010004 */  bne         $t8, $at, .L80055250
/* 000200 80055240 02408025 */   move       $s0, $s2
/* 000204 80055244 8ED90000 */  lw          $t9, 0x0($s6)
/* 000208 80055248 5239001E */  beql        $s1, $t9, .L800552C4
/* 00020C 8005524C 02518021 */   addu       $s0, $s2, $s1
.L80055250:
/* 000210 80055250 A2B70000 */  sb          $s7, 0x0($s5)
/* 000214 80055254 AED10000 */  sw          $s1, 0x0($s6)
/* 000218 80055258 1A200010 */  blez        $s1, .L8005529C
/* 00021C 8005525C 00001025 */   move       $v0, $zero
/* 000220 80055260 32240003 */  andi        $a0, $s1, 0x3
/* 000224 80055264 10800006 */  beq         $a0, $zero, .L80055280
/* 000228 80055268 00801825 */   move       $v1, $a0
.L8005526C:
/* 00022C 8005526C 24420001 */  addiu       $v0, $v0, 0x1
/* 000230 80055270 A2000000 */  sb          $zero, 0x0($s0)
/* 000234 80055274 1462FFFD */  bne         $v1, $v0, .L8005526C
/* 000238 80055278 26100001 */   addiu      $s0, $s0, 0x1
/* 00023C 8005527C 10510007 */  beq         $v0, $s1, .L8005529C
.L80055280:
/* 000240 80055280 24420004 */   addiu      $v0, $v0, 0x4
/* 000244 80055284 A2000000 */  sb          $zero, 0x0($s0)
/* 000248 80055288 A2000001 */  sb          $zero, 0x1($s0)
/* 00024C 8005528C A2000002 */  sb          $zero, 0x2($s0)
/* 000250 80055290 A2000003 */  sb          $zero, 0x3($s0)
/* 000254 80055294 1451FFFA */  bne         $v0, $s1, .L80055280
/* 000258 80055298 26100004 */   addiu      $s0, $s0, 0x4
.L8005529C:
/* 00025C 8005529C AE5E003C */  sw          $fp, 0x3c($s2)
/* 000260 800552A0 24080003 */  addiu       $t0, $zero, 0x3
/* 000264 800552A4 240900FE */  addiu       $t1, $zero, 0xfe
/* 000268 800552A8 A2080000 */  sb          $t0, 0x0($s0)
/* 00026C 800552AC A21E0001 */  sb          $fp, 0x1($s0)
/* 000270 800552B0 A2170002 */  sb          $s7, 0x2($s0)
/* 000274 800552B4 A2000005 */  sb          $zero, 0x5($s0)
/* 000278 800552B8 10000002 */  b           .L800552C4
/* 00027C 800552BC A2090006 */   sb         $t1, 0x6($s0)
/* 000280 800552C0 02518021 */  addu        $s0, $s2, $s1
.L800552C4:
/* 000284 800552C4 A2050003 */  sb          $a1, 0x3($s0)
/* 000288 800552C8 0C0161A8 */  jal         __osContAddressCrc
/* 00028C 800552CC 97A4004A */   lhu        $a0, 0x4a($sp)
/* 000290 800552D0 A2020004 */  sb          $v0, 0x4($s0)
/* 000294 800552D4 24040001 */  addiu       $a0, $zero, 0x1
/* 000298 800552D8 0C016118 */  jal         func_80058460
/* 00029C 800552DC 02402825 */   move       $a1, $s2
/* 0002A0 800552E0 02802025 */  move        $a0, $s4
/* 0002A4 800552E4 00002825 */  move        $a1, $zero
/* 0002A8 800552E8 0C014554 */  jal         func_80051550
/* 0002AC 800552EC 24060001 */   addiu      $a2, $zero, 0x1
/* 0002B0 800552F0 00002025 */  move        $a0, $zero
/* 0002B4 800552F4 0C016118 */  jal         func_80058460
/* 0002B8 800552F8 02402825 */   move       $a1, $s2
/* 0002BC 800552FC 02802025 */  move        $a0, $s4
/* 0002C0 80055300 00002825 */  move        $a1, $zero
/* 0002C4 80055304 0C014554 */  jal         func_80051550
/* 0002C8 80055308 24060001 */   addiu      $a2, $zero, 0x1
/* 0002CC 8005530C 92030001 */  lbu         $v1, 0x1($s0)
/* 0002D0 80055310 306A00C0 */  andi        $t2, $v1, 0xc0
/* 0002D4 80055314 000A1903 */  sra         $v1, $t2, 4
/* 0002D8 80055318 5460000E */  bnel        $v1, $zero, .L80055354
/* 0002DC 8005531C 24030001 */   addiu      $v1, $zero, 0x1
/* 0002E0 80055320 920C0005 */  lbu         $t4, 0x5($s0)
/* 0002E4 80055324 02802025 */  move        $a0, $s4
/* 0002E8 80055328 02202825 */  move        $a1, $s1
/* 0002EC 8005532C 318D0001 */  andi        $t5, $t4, 0x1
/* 0002F0 80055330 51A00009 */  beql        $t5, $zero, .L80055358
/* 0002F4 80055334 24010004 */   addiu      $at, $zero, 0x4
/* 0002F8 80055338 0C01558C */  jal         func_80055630
/* 0002FC 8005533C 27A6005B */   addiu      $a2, $sp, 0x5b
/* 000300 80055340 14400009 */  bne         $v0, $zero, .L80055368
/* 000304 80055344 00401825 */   move       $v1, $v0
/* 000308 80055348 10000002 */  b           .L80055354
/* 00030C 8005534C 24030004 */   addiu      $v1, $zero, 0x4
/* 000310 80055350 24030001 */  addiu       $v1, $zero, 0x1
.L80055354:
/* 000314 80055354 24010004 */  addiu       $at, $zero, 0x4
.L80055358:
/* 000318 80055358 14610003 */  bne         $v1, $at, .L80055368
/* 00031C 8005535C 2A620000 */   slti       $v0, $s3, 0x0
/* 000320 80055360 1040FFB3 */  beq         $v0, $zero, .L80055230
/* 000324 80055364 2673FFFF */   addiu      $s3, $s3, -0x1
.L80055368:
/* 000328 80055368 0C01610D */  jal         func_80058434
/* 00032C 8005536C AFA30064 */   sw         $v1, 0x64($sp)
/* 000330 80055370 8FBF003C */  lw          $ra, 0x3c($sp)
/* 000334 80055374 8FA20064 */  lw          $v0, 0x64($sp)
/* 000338 80055378 8FB00018 */  lw          $s0, 0x18($sp)
/* 00033C 8005537C 8FB1001C */  lw          $s1, 0x1c($sp)
/* 000340 80055380 8FB20020 */  lw          $s2, 0x20($sp)
/* 000344 80055384 8FB30024 */  lw          $s3, 0x24($sp)
/* 000348 80055388 8FB40028 */  lw          $s4, 0x28($sp)
/* 00034C 8005538C 8FB5002C */  lw          $s5, 0x2c($sp)
/* 000350 80055390 8FB60030 */  lw          $s6, 0x30($sp)
/* 000354 80055394 8FB70034 */  lw          $s7, 0x34($sp)
/* 000358 80055398 8FBE0038 */  lw          $fp, 0x38($sp)
/* 00035C 8005539C 03E00008 */  jr          $ra
/* 000360 800553A0 27BD0068 */   addiu      $sp, $sp, 0x68
/* 000364 800553A4 00000000 */  nop
/* 000368 800553A8 00000000 */  nop
/* 00036C 800553AC 00000000 */  nop
