.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text

.balign 16

glabel func_800553C0 # 0
/* 054F70 800553C0 27BDFFE8 */  addiu       $sp, $sp, -0x18
/* 054F74 800553C4 AFBF0014 */  sw          $ra, 0x14($sp)
/* 054F78 800553C8 AFA5001C */  sw          $a1, 0x1c($sp)
/* 054F7C 800553CC 0C016C00 */  jal         func_8005B000
/* 054F80 800553D0 AFA40018 */   sw         $a0, 0x18($sp)
/* 054F84 800553D4 10400003 */  beq         $v0, $zero, .L800553E4
/* 054F88 800553D8 8FA40018 */   lw         $a0, 0x18($sp)
/* 054F8C 800553DC 10000018 */  b           .L80055440
/* 054F90 800553E0 2402FFFF */   addiu      $v0, $zero, -0x1
.L800553E4:
/* 054F94 800553E4 3C0E800A */  lui         $t6, %hi(D_8009F690)
/* 054F98 800553E8 91CEF690 */  lbu         $t6, %lo(D_8009F690)($t6)
/* 054F9C 800553EC 8FAF001C */  lw          $t7, 0x1c($sp)
/* 054FA0 800553F0 00802825 */  move        $a1, $a0
/* 054FA4 800553F4 11C00002 */  beq         $t6, $zero, .L80055400
/* 054FA8 800553F8 008FC021 */   addu       $t8, $a0, $t7
/* 054FAC 800553FC 2485E000 */  addiu       $a1, $a0, -0x2000
.L80055400:
/* 054FB0 80055400 33191FFF */  andi        $t9, $t8, 0x1fff
/* 054FB4 80055404 17200005 */  bne         $t9, $zero, .L8005541C
/* 054FB8 80055408 3C01800A */   lui        $at, 0x800a
/* 054FBC 8005540C 24080001 */  addiu       $t0, $zero, 0x1
/* 054FC0 80055410 3C01800A */  lui         $at, %hi(D_8009F690)
/* 054FC4 80055414 10000002 */  b           .L80055420
/* 054FC8 80055418 A028F690 */   sb         $t0, %lo(D_8009F690)($at)
.L8005541C:
/* 054FCC 8005541C A020F690 */  sb          $zero, %lo(D_8009F690)($at)
.L80055420:
/* 054FD0 80055420 0C0143B0 */  jal         func_80050EC0
/* 054FD4 80055424 00A02025 */   move       $a0, $a1
/* 054FD8 80055428 3C09A450 */  lui         $t1, %hi(D_A4500000)
/* 054FDC 8005542C AD220000 */  sw          $v0, %lo(D_A4500000)($t1)
/* 054FE0 80055430 8FAA001C */  lw          $t2, 0x1c($sp)
/* 054FE4 80055434 3C0BA450 */  lui         $t3, %hi(D_A4500004)
/* 054FE8 80055438 00001025 */  move        $v0, $zero
/* 054FEC 8005543C AD6A0004 */  sw          $t2, %lo(D_A4500004)($t3)
.L80055440:
/* 054FF0 80055440 8FBF0014 */  lw          $ra, 0x14($sp)
/* 054FF4 80055444 27BD0018 */  addiu       $sp, $sp, 0x18
/* 054FF8 80055448 03E00008 */  jr          $ra
/* 054FFC 8005544C 00000000 */   nop

glabel func_80055450 # 1
/* 055000 80055450 27BDFFC8 */  addiu       $sp, $sp, -0x38
/* 055004 80055454 AFBF0024 */  sw          $ra, 0x24($sp)
/* 055008 80055458 AFA40038 */  sw          $a0, 0x38($sp)
/* 05500C 8005545C AFB20020 */  sw          $s2, 0x20($sp)
/* 055010 80055460 AFB1001C */  sw          $s1, 0x1c($sp)
/* 055014 80055464 0C015FFC */  jal         __osDisableInt
/* 055018 80055468 AFB00018 */   sw         $s0, 0x18($sp)
/* 05501C 8005546C 8FAE0038 */  lw          $t6, 0x38($sp)
/* 055020 80055470 00408025 */  move        $s0, $v0
/* 055024 80055474 15C00003 */  bne         $t6, $zero, .L80055484
/* 055028 80055478 00000000 */   nop
/* 05502C 8005547C 10000003 */  b           .L8005548C
/* 055030 80055480 24110004 */   addiu      $s1, $zero, 0x4
.L80055484:
/* 055034 80055484 8FAF0038 */  lw          $t7, 0x38($sp)
/* 055038 80055488 95F10010 */  lhu         $s1, 0x10($t7)
.L8005548C:
/* 05503C 8005548C 02209025 */  move        $s2, $s1
/* 055040 80055490 24010002 */  addiu       $at, $zero, 0x2
/* 055044 80055494 1241000F */  beq         $s2, $at, .L800554D4
/* 055048 80055498 24010004 */   addiu      $at, $zero, 0x4
/* 05504C 8005549C 12410005 */  beq         $s2, $at, .L800554B4
/* 055050 800554A0 24010008 */   addiu      $at, $zero, 0x8
/* 055054 800554A4 1241000B */  beq         $s2, $at, .L800554D4
/* 055058 800554A8 00000000 */   nop
/* 05505C 800554AC 10000010 */  b           .L800554F0
/* 055060 800554B0 00000000 */   nop
.L800554B4:
/* 055064 800554B4 3C19800A */  lui         $t9, %hi(__osRunningThread)
/* 055068 800554B8 8F39F8A0 */  lw          $t9, %lo(__osRunningThread)($t9)
/* 05506C 800554BC 24180001 */  addiu       $t8, $zero, 0x1
/* 055070 800554C0 00002025 */  move        $a0, $zero
/* 055074 800554C4 0C015F11 */  jal         __osEnqueueAndYield
/* 055078 800554C8 A7380010 */   sh         $t8, 0x10($t9)
/* 05507C 800554CC 10000008 */  b           .L800554F0
/* 055080 800554D0 00000000 */   nop
.L800554D4:
/* 055084 800554D4 8FA90038 */  lw          $t1, 0x38($sp)
/* 055088 800554D8 24080001 */  addiu       $t0, $zero, 0x1
/* 05508C 800554DC A5280010 */  sh          $t0, 0x10($t1)
/* 055090 800554E0 8FAA0038 */  lw          $t2, 0x38($sp)
/* 055094 800554E4 8D440008 */  lw          $a0, 0x8($t2)
/* 055098 800554E8 0C016020 */  jal         __osDequeueThread
/* 05509C 800554EC 01402825 */   move       $a1, $t2
.L800554F0:
/* 0550A0 800554F0 0C016018 */  jal         __osRestoreInt
/* 0550A4 800554F4 02002025 */   move       $a0, $s0
/* 0550A8 800554F8 8FBF0024 */  lw          $ra, 0x24($sp)
/* 0550AC 800554FC 8FB00018 */  lw          $s0, 0x18($sp)
/* 0550B0 80055500 8FB1001C */  lw          $s1, 0x1c($sp)
/* 0550B4 80055504 8FB20020 */  lw          $s2, 0x20($sp)
/* 0550B8 80055508 03E00008 */  jr          $ra
/* 0550BC 8005550C 27BD0038 */   addiu      $sp, $sp, 0x38

glabel func_80055510 # 2
/* 0550C0 80055510 28C10010 */  slti        $at, $a2, 0x10
/* 0550C4 80055514 14200037 */  bne         $at, $zero, .L800555F4
/* 0550C8 80055518 00851026 */   xor        $v0, $a0, $a1
/* 0550CC 8005551C 30420003 */  andi        $v0, $v0, 0x3
/* 0550D0 80055520 14400019 */  bne         $v0, $zero, .L80055588
/* 0550D4 80055524 0004C023 */   subu       $t8, $zero, $a0
/* 0550D8 80055528 33180003 */  andi        $t8, $t8, 0x3
/* 0550DC 8005552C 13000007 */  beq         $t8, $zero, .L8005554C
/* 0550E0 80055530 00D83023 */   subu       $a2, $a2, $t8
/* 0550E4 80055534 00601025 */  move        $v0, $v1
/* 0550E8 80055538 88820000 */  lwl         $v0, 0x0($a0)
/* 0550EC 8005553C 88A30000 */  lwl         $v1, 0x0($a1)
/* 0550F0 80055540 00982021 */  addu        $a0, $a0, $t8
/* 0550F4 80055544 00B82821 */  addu        $a1, $a1, $t8
/* 0550F8 80055548 14430036 */  bne         $v0, $v1, .L80055624
.L8005554C:
/* 0550FC 8005554C 2401FFFC */   addiu      $at, $zero, -0x4
/* 055100 80055550 00C13824 */  and         $a3, $a2, $at
/* 055104 80055554 10E00027 */  beq         $a3, $zero, .L800555F4
/* 055108 80055558 00C73023 */   subu       $a2, $a2, $a3
/* 05510C 8005555C 00E43821 */  addu        $a3, $a3, $a0
/* 055110 80055560 8C820000 */  lw          $v0, 0x0($a0)
.L80055564:
/* 055114 80055564 8CA30000 */  lw          $v1, 0x0($a1)
/* 055118 80055568 24840004 */  addiu       $a0, $a0, 0x4
/* 05511C 8005556C 24A50004 */  addiu       $a1, $a1, 0x4
/* 055120 80055570 1443002C */  bne         $v0, $v1, .L80055624
/* 055124 80055574 00000000 */   nop
/* 055128 80055578 5487FFFA */  bnel        $a0, $a3, .L80055564
/* 05512C 8005557C 8C820000 */   lw         $v0, 0x0($a0)
/* 055130 80055580 1000001C */  b           .L800555F4
/* 055134 80055584 00000000 */   nop
.L80055588:
/* 055138 80055588 00053823 */  subu        $a3, $zero, $a1
/* 05513C 8005558C 30E70003 */  andi        $a3, $a3, 0x3
/* 055140 80055590 10E0000A */  beq         $a3, $zero, .L800555BC
/* 055144 80055594 00C73023 */   subu       $a2, $a2, $a3
/* 055148 80055598 00E43821 */  addu        $a3, $a3, $a0
/* 05514C 8005559C 90820000 */  lbu         $v0, 0x0($a0)
.L800555A0:
/* 055150 800555A0 90A30000 */  lbu         $v1, 0x0($a1)
/* 055154 800555A4 24840001 */  addiu       $a0, $a0, 0x1
/* 055158 800555A8 24A50001 */  addiu       $a1, $a1, 0x1
/* 05515C 800555AC 1443001D */  bne         $v0, $v1, .L80055624
/* 055160 800555B0 00000000 */   nop
/* 055164 800555B4 5487FFFA */  bnel        $a0, $a3, .L800555A0
/* 055168 800555B8 90820000 */   lbu        $v0, 0x0($a0)
.L800555BC:
/* 05516C 800555BC 2401FFFC */  addiu       $at, $zero, -0x4
/* 055170 800555C0 00C13824 */  and         $a3, $a2, $at
/* 055174 800555C4 10E0000B */  beq         $a3, $zero, .L800555F4
/* 055178 800555C8 00C73023 */   subu       $a2, $a2, $a3
/* 05517C 800555CC 00E43821 */  addu        $a3, $a3, $a0
/* 055180 800555D0 88820000 */  lwl         $v0, 0x0($a0)
.L800555D4:
/* 055184 800555D4 8CA30000 */  lw          $v1, 0x0($a1)
/* 055188 800555D8 98820003 */  lwr         $v0, 0x3($a0)
/* 05518C 800555DC 24840004 */  addiu       $a0, $a0, 0x4
/* 055190 800555E0 24A50004 */  addiu       $a1, $a1, 0x4
/* 055194 800555E4 1443000F */  bne         $v0, $v1, .L80055624
/* 055198 800555E8 00000000 */   nop
/* 05519C 800555EC 5487FFF9 */  bnel        $a0, $a3, .L800555D4
/* 0551A0 800555F0 88820000 */   lwl        $v0, 0x0($a0)
.L800555F4:
/* 0551A4 800555F4 18C00009 */  blez        $a2, .L8005561C
/* 0551A8 800555F8 00C43821 */   addu       $a3, $a2, $a0
/* 0551AC 800555FC 90820000 */  lbu         $v0, 0x0($a0)
.L80055600:
/* 0551B0 80055600 90A30000 */  lbu         $v1, 0x0($a1)
/* 0551B4 80055604 24840001 */  addiu       $a0, $a0, 0x1
/* 0551B8 80055608 24A50001 */  addiu       $a1, $a1, 0x1
/* 0551BC 8005560C 14430005 */  bne         $v0, $v1, .L80055624
/* 0551C0 80055610 00000000 */   nop
/* 0551C4 80055614 5487FFFA */  bnel        $a0, $a3, .L80055600
/* 0551C8 80055618 90820000 */   lbu        $v0, 0x0($a0)
.L8005561C:
/* 0551CC 8005561C 03E00008 */  jr          $ra
/* 0551D0 80055620 00001025 */   move       $v0, $zero
.L80055624:
/* 0551D4 80055624 03E00008 */  jr          $ra
/* 0551D8 80055628 24020001 */   addiu      $v0, $zero, 0x1
/* 0551DC 8005562C 00000000 */  nop
